# INSERT

* [INSERT Single Row](#insert-single-row) <br>
* [INSERT Multiple Rows](#insert-multiple-rows) <br>
* [INSERT With SELECT Clause](#insert-with-select-clause) <br>
* [INSERT With ON DUPLICATE KEY UPDATE](#insert-with-on-duplicate-key-update) <br>
* [LAST_INSERT_ID Function](#last_insert_id-function) <br>

### INSERT Single Row
The MySQL `INSERT` statement allows you to insert one or more rows into a table. <br>
**You need to have an `INSERT` privilege to use the `INSERT` statement.**

```sql
INSERT INTO tasks(subject,start_date,end_date,description)
VALUES('Learn MySQL INSERT','2010-01-01','2010-01-02','Start learning..');
```

If you specify the value of the corresponding column for all columns in the table, you can ignore the column list in the `INSERT` statement.

```sql
INSERT INTO tasks
VALUES('Learn MySQL INSERT','2010-01-01','2010-01-02','Start learning..');
```

### INSERT Multiple Rows
```sql
INSERT INTO tasks(subject,start_date,end_date,description)
VALUES ('Task 1','2010-01-01','2010-01-02','Description 1'),
       ('Task 2','2010-01-01','2010-01-02','Description 2'),
       ('Task 3','2010-01-01','2010-01-02','Description 3');
```

Same with ignore the column list.

```sql
INSERT INTO tasks
VALUES ('Task 1','2010-01-01','2010-01-02','Description 1'),
       ('Task 2','2010-01-01','2010-01-02','Description 2'),
       ('Task 3','2010-01-01','2010-01-02','Description 3');
```

### INSERT With SELECT Clause
In MySQL, you can specify the values for the `INSERT` statement from a `SELECT` statement.

```sql
INSERT INTO table_1
SELECT c1, c2, FROM table_2;
```

This feature is very handy because you can **copy** a table **fully** or **partially** using the `INSERT` and `SELECT` clauses.

### INSERT With ON DUPLICATE KEY UPDATE
The only addition to the `INSERT` statement is the `ON DUPLICATE KEY UPDATE` clause where you **specify a list of comma-separated column** assignments.

MySQL returns the number of affected rows based on the action it performed.
* If MySQL **inserts** the row as a new row, the number of affected row is **1**.
* If MySQL **updates** the current row, the number of affected rows is **2**.
* In case MySQL **updates the current row with its current values**, the number of affected rows is **0**.

```sql
INSERT INTO devices(name) VALUES ('Printer')
ON DUPLICATE KEY UPDATE name = 'Keyboard';
```

To reuse the values of the `INSERT` part in the `DUPLICATE KEY UPDATE` clause, you use the `VALUES()` function.

```sql
INSERT INTO sample_table(column_1)
VALUES(column_1)
ON DUPLICATE KEY UPDATE column_1 = VALUES(column_1) + 1;
```

### LAST_INSERT_ID Function
`LAST_INSERT_ID()` returns the **first id** generated by your batch of rows.

```sql
INSERT INTO tbl(description)
VALUES('MySQL last_insert_id');

SELECT LAST_INSERT_ID();
```

Itâ€™s important to note that if you insert multiple rows into a table using a single `INSERT` statement, the `LAST_INSERT_ID` function returns the last insert id of the first row.

```sql
INSERT INTO tbl(description)
VALUES('record 1'), # <= will return the id for this row.
      ('record 2'),
      ('record 3');

SELECT LAST_INSERT_ID();
```
